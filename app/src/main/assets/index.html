
<!DOCTYPE html>
<html>
<head>
  <title>Leaflet mobile example</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v1.0.0-rc.1/leaflet.css" />
  <script src="http://cdn.leafletjs.com/leaflet/v1.0.0-rc.1/leaflet.js"></script>

  <style>
    body {
    padding: 0;
    margin: 0;
    }
    html, body, #map {
    height: 100%;
    }
  </style>
</head>
<body>
<div id="map"></div>



<script>
        function reset(){
          window.control.toast();
          map.panTo([getY(), getX()], {animate:true});
        }


        function getX(){
          var x = window.control.getX();
          return x;
        }

        function getY(){
          var y = window.control.getY();
          return y;
        }

        var x = getX();
        var y = getY();




        var mbAttr = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery © <a href="http://mapbox.com">Mapbox</a>',
			mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw';

        var grayscale   = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
		    streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets',   attribution: mbAttr});


        var map = L.map('map', {
			center: [y, x],
			zoom: 14,
			layers: [grayscale]
		});

		var baseLayers = {
			"Grayscale": grayscale,
			"Streets": streets
		};

		L.control.layers(baseLayers).addTo(map);


		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery © <a href="http://mapbox.com">Mapbox</a>',
			id: 'mapbox.streets'
		}).addTo(map);



		/*创建一个弹窗对象*/
    var popup = L.popup();

    function onMapClick(e) {//地图点击监听
        popup
                .setLatLng(e.latlng)//设置当前点击的坐标
                .setContent("你点击的坐标点是" + e.latlng.toString())//设置当前坐标的信息
                .openOn(map);//设置作用的地图
    }

    map.on('click', onMapClick);//设置点击事件

</script>
</body>
</html>
